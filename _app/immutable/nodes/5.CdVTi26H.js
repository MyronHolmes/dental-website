import{c as U,a as y,t as P}from"../chunks/BEMXTIng.js";import{i as ca}from"../chunks/B2RV2eX6.js";import{p as ma,f as W,a as va,j as n,c as t,s as o,r as e,t as Y,k as G,al as ya,am as _a,F as xa,ab as ka,n as wa}from"../chunks/CFOHyc7d.js";import{s as O,e as V}from"../chunks/CyxOhsX1.js";import{p as M,i as H}from"../chunks/BtvE4SnJ.js";import{e as aa,i as fa}from"../chunks/BSuaWszW.js";import{r as ea,a as Sa,b as ta,s as R}from"../chunks/C626YV6m.js";import{s as Na}from"../chunks/CbpsSC2x.js";import{p as L}from"../chunks/Rg-qNljg.js";import{s as qa}from"../chunks/DTFKbq0D.js";var Ta=P('<div class="form-check text-dark svelte-1rrml3n" role="button" tabindex="0" aria-label="service-item"><input class="service-item" type="checkbox"> <label class="ps-1 svelte-1rrml3n"> </label></div>'),Ca=P('<div class="border border-light-subtle rounded w-auto" style="height: 70px; overflow-y: auto;"></div>'),Fa=P('<span class="text-danger">No Results Found</span>');function Da(j,_){ma(_,!1);let l=M(_,"serviceCategories",8),v=M(_,"list",12);function A(i,d){let f={};return f[i]=d,f}function h(i,d){const f=d.target;let p=!1;if(f.tagName==="DIV"){const c=f.children.item(0);p=c.checked,c.checked=!p,F(i,!p)}}function F(i,d){const f=i.id,p=i.name;if(!d)v(v().filter(c=>!c[f]));else{const c=A(f,p);v([...v(),c])}console.log(v())}ca();var T=U(),E=W(T);{var z=i=>{var d=Ca();aa(d,5,l,fa,(f,p)=>{var c=U(),J=W(c);aa(J,1,()=>n(p).services,I=>I.id,(I,u)=>{var x=Ta(),C=t(x);ea(C);var D=o(C,2),K=t(D,!0);e(D),e(x),Y((b,Q)=>{Sa(C,b),ta(C,Q),R(C,"id",n(u).id),R(D,"for",n(u).id),O(K,n(u).name)},[()=>v().some(b=>n(u).id in b),()=>JSON.stringify(A(n(u).id,n(u).name))],G),V("click",C,b=>F(n(u),b.target.checked)),V("click",x,b=>h(n(u),b)),V("keydown",x,b=>{(b.key==="Enter"||b.key===" ")&&h(n(u),b)}),y(I,x)}),y(f,c)}),e(d),y(i,d)},B=(i,d)=>{{var f=p=>{var c=Fa();y(p,c)};H(i,p=>{l().length<1&&p(f)},d)}};H(E,i=>{l().length>0?i(z):i(B,!1)})}y(j,T),va()}var Oa=P('<div role="alert" aria-atomic="true"><div class="toast-header"><strong class="me-auto">Dental Bliss</strong> <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button></div> <div class="toast-body"> </div></div>');function da(j,_){let l=M(_,"type",8),v=M(_,"time",8),A=M(_,"message",8);var h=Oa();let F;var T=o(t(h),2),E=t(T,!0);e(T),e(h),Y(z=>{F=qa(h,1,"toast fade show z-3 position-absolute top-1 end-0 me-5",null,F,z),R(h,"aria-live",l()),R(h,"data-bs-delay",v()),O(E,A())},[()=>({"bg-success":l()==="polite","bg-danger":l()==="assertive"})],G),y(j,h)}var Pa=P('<p class="mb-1"> </p> <p class="mb-1"> </p>',1),Aa=P('<p class="text-muted">No hours available</p>'),Ea=P('<!> <section class="py-5"><div class="container"><h1 class="text-center text-primary fw-bold mb-4"> </h1> <div class="row g-5"><div class="col-md-6"><div class="card shadow-sm h-100 border-0"><div class="card-body"><h4 class="fw-semibold">Contact Information</h4> <p><i class="fa fa-phone text-primary me-2"></i>Phone: <a> </a><br> <i class="fa fa-envelope text-primary me-2"></i>Email: <a> </a></p> <hr> <h6 class="text-muted fw-semibold">Hours of Operation</h6> <!></div></div></div> <div class="col-md-6"><div class="card shadow-sm h-100 border-0"><div class="card-body"><h4 class="fw-semibold mb-4">Request an Appointment</h4> <form method="POST" action="?/request"><div class="mb-3"><label class="form-label" for="firstName">First Name <span class="text-danger">*</span></label> <input class="form-control" type="text" name="firstName" required></div> <div class="mb-3"><label class="form-label" for="lastName">Last Name <span class="text-danger">*</span></label> <input class="form-control" type="text" name="lastName" required></div> <div class="mb-3"><label class="form-label" for="email">Email <span class="text-danger">*</span></label> <input class="form-control" type="email" name="email" required></div> <div class="mb-3"><label class="form-label" for="phone">Phone <span class="text-danger">*</span></label> <input class="form-control" type="tel" name="phone" required></div> <div class="mb-3"><label class="form-label" for="dob">Date of Birth <span class="text-danger">*</span></label> <input class="form-control" type="date" name="dob" required></div> <div class="mb-3"><label class="form-label" for="request-date">Preferred Appointment Time<span class="text-danger">*</span></label> <input class="form-control" type="datetime-local" name="request-date" required></div> <div class="mb-3"><label class="form-label" for="service">Reason For Your Visit <span class="text-danger">*</span></label> <!></div> <div class="mb-3"><label for="notes">Notes For Doctor</label> <textarea class="form-control" name="notes" style="height: 100px"></textarea></div> <input type="hidden" name="city"> <input type="hidden" name="service"> <button type="submit" class="btn btn-primary w-100">Submit</button></form></div></div></div></div></div></section>',1);function Va(j,_){ma(_,!1);let l=M(_,"data",8),v=xa([]);function A(a){return a.split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1)).join(" ")}console.log(L.form);function h(a){var k;const s={Monday:null,Tuesday:null,Wednesday:null,Thursday:null,Friday:null,Saturday:null,Sunday:null};function N(m){const[r,w]=m.trim().toLowerCase().split(/(am|pm)/);let[S,g="00"]=r.split(":"),q=parseInt(S);return w==="pm"&&q!==12&&(q+=12),w==="am"&&q===12&&(q=0),`${String(q).padStart(2,"0")}:${g}`}if(a.weekdays){const m=a.weekdays.match(/(\d{1,2}(?::\d{2})?\s*[ap]m)\s*-\s*(\d{1,2}(?::\d{2})?\s*[ap]m)/i);if(m){const[r,w,S]=m,g={start:N(w),end:N(S)};["Monday","Tuesday","Wednesday","Thursday","Friday"].forEach(q=>{s[q]=g})}}if(a.saturday){const m=a.saturday.match(/(\d{1,2}(?::\d{2})?\s*[ap]m)\s*-\s*(\d{1,2}(?::\d{2})?\s*[ap]m)/i);if(m){const[r,w,S]=m;s.Saturday={start:N(w),end:N(S)}}}return(k=a.sunday)!=null&&k.toLowerCase().includes("closed")&&(s.Sunday=null),s}const F=h(l().location.hours);ya(()=>n(v),()=>{console.log(n(v))}),_a(),ca();var T=Ea(),E=W(T);{var z=a=>{var s=U(),N=W(s);{var k=r=>{da(r,{type:"polite",time:"10000",get message(){return L.form.message}})},m=(r,w)=>{{var S=g=>{da(g,{type:"assertive",time:"10000",get message(){return L.form.message}})};H(r,g=>{L.form.success===!1&&g(S)},w)}};H(N,r=>{L.form.success===!0?r(k):r(m,!1)})}y(a,s)};H(E,a=>{L.form&&a(z)})}var B=o(E,2),i=t(B),d=t(i),f=t(d);e(d);var p=o(d,2),c=t(p),J=t(c),I=t(J),u=o(t(I),2),x=o(t(u),2),C=t(x,!0);e(x);var D=o(x,5),K=t(D,!0);e(D),e(u);var b=o(u,6);{var Q=a=>{var s=U(),N=W(s);aa(N,1,()=>Object.entries(l().location.hours),fa,(k,m)=>{let r=()=>n(m)[0],w=()=>n(m)[1];var S=Pa(),g=W(S),q=t(g);e(g);var na=o(g,2),ha=t(na,!0);e(na),Y(ga=>{O(q,`${ga??""}:`),O(ha,w())},[()=>A(r())],G),y(k,S)}),y(a,s)},pa=a=>{var s=Aa();y(a,s)};H(b,a=>{l().location.hours?a(Q):a(pa,!1)})}e(I),e(J),e(c);var sa=o(c,2),ra=t(sa),la=t(ra),oa=o(t(la),2),X=o(t(oa),10),ua=o(t(X),2);e(X);var Z=o(X,2),ba=o(t(Z),2);Da(ba,{serviceCategories:Na,get list(){return n(v)},set list(a){ka(v,a)},$$legacy:!0}),e(Z);var $=o(Z,4);ea($);var ia=o($,2);ea(ia),wa(2),e(oa),e(la),e(ra),e(sa),e(p),e(i),e(B),Y(a=>{O(f,`${l().location.name??""} Office`),R(x,"href",`tel:${l().location.phone}`),O(C,l().location.phone),R(D,"href",`mailto:${l().location.email}`),O(K,l().location.email),ta($,l().location.name),ta(ia,a)},[()=>JSON.stringify(n(v))],G),V("change",ua,a=>{const s=a.currentTarget.value,k=new Date(s).toLocaleDateString(void 0,{weekday:"long"}),m=s.split("T")[1],r=F[k];if(!r){alert(`We are closed on ${k}. Please choose another day.`),a.currentTarget.value="";return}(m<r.start||m>r.end)&&(alert(`Selected time must be between ${r.start} and ${r.end} on ${k}.`),a.currentTarget.value="")}),y(j,T),va()}export{Va as component};
